

<div id="main" class="lift:surround?with=default&at=content">

    <h1>Open Bank Project API Explorer</h1>

    <div class="lift:ApiExplorer.showResources">

        <span id="version">API Version: </span>

        <div class="lift:Msgs"></div>

        <div id="selectors">
            <dif id="introduction">
                Use the API in the context of your login. Use the select boxes below to auto populate url parameters such as BANK_ID, ACCOUNT_ID and VIEW_ID.
            </dif>
            <div id="login_status_message">
                Logged In Status
            </div>
            <br />

            <select id="bank_selector">
                <option value="bank_id1">Bank 1</option>
                <option value="bank_id2">Bank 2</option>
            </select>
            <select id="account_selector">
                <option value="account_id1">Account 1</option>
                <option value="account_id2">Account 2</option>
            </select>
            <select id="view_selector">
                <option value="view_id_1">Owner</option>
                <option value="view_id_2">Accountant</option>
            </select>
            <select id="counterparty_selector">
                <option value="other_account_id_1">Counterparty 1</option>
                <option value="other_account_id_2">Counterparty 2</option>
            </select>
            <select id="transaction_selector">
                <option value="transaction_id_1">Transaction 1</option>
                <option value="transaction_id_2">Transaction 2</option>
            </select>
        </div>



        <table>
            <!-- Each URL we document appears in a row, inside a table -->
            <!-- Multiple instances of this row are generated in ApiExplorer.scala -->
            <!-- Note: id's are added so we can manipulate individual elements -->
            <tr class="resource">
                    <!-- Some documentation -->
                    <td>
                        <a class="resource_summary" href="#replace-me">Summary</a>
                        <div name="resource_description" class="markdown"><span name="description_text">Description</span></div>
                    </td>

                    <td>
                        <form class="lift:form.ajax" id="form1">
                                <!-- Attributes for these fields are replaced -->
                                <input type="hidden" name="resource_id_input">
                                <input type="hidden" name="request_verb_input" placeholder="GET, POST, PUT etc.">
                                <!-- The url_to_call is populated at render (but it can be edited manually) -->
                                <input type="hidden" name="request_url_input" placeholder="OBP URL to call">

                                <div name="example_request_body" style="display: block;">
                                    <input name="example_request_body_input" placeholder="JSON body to POST or PUT">
                                    <!-- TODO get this working: <textarea name="request_body_input" form="form1">Enter text here...</textarea>  -->
                                </div>

                                <!-- This submit button is also modified by ApiExplorer.scala -->
                                <input class="call_button" type="submit">
                        </form>

                        <!-- API call result goes here It is highlighted by javascript called from the submit button -->
                        <pre>
                            <code class="result json" id="result" name="response_body">
                            </code>
                        </pre>
                    </td>
            </tr>
        </table>
    </div>
</div>

